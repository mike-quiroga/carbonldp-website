<%var currentVersion;
for (var i=0; i<theme.versions.length; i++){
	if( theme.versions[i].label === "current" ){
		currentVersion = theme.versions[i].version;
	}
}
if( typeof currentVersion === "undefined") {
	currentVersion = theme.versions[ theme.versions.length - 1 ].version;
}
%>
<%var fileVersion = page.version? page.version: currentVersion%>
<div class="categoriesMenuContainer bigStoneBG">
	<div class="ui container">
		<div class="ui four column center aligned padded stackable grid">
			<div class="row">
				<div class="ten wide column">
					<h1 class="categoriesMenu-title"> Carbon LDP documentation</h1>
					<%- partial("_partial/versions-menu", {containerDarkBackground:true})%>
				</div>
			</div>

			<div class="row categoriesMenu">
				<a href="#quick-guide" class="column categoriesMenu-button">
					<%- svg( "assets/images/ico-open-book.svg", "ui centered circular image categoriesMenu-icon" ) %>
					<div class="categoriesMenu-categoryTitle">Quick start</div>
				</a>
				<a href="#essential-concepts" class="column categoriesMenu-button">
					<%- svg( "assets/images/ico-books.svg", "ui centered circular image categoriesMenu-icon" ) %>
					<div class="categoriesMenu-categoryTitle">Essential concepts</div>
				</a>
				<a href="#javascript-sdk" class="column categoriesMenu-button">
					<%- svg( "assets/images/ico-javascript.svg", "ui centered circular image categoriesMenu-icon" ) %>
					<div class="categoriesMenu-categoryTitle">JavaScript SDK</div>
				</a>
				<a href="#rest-api" class="column categoriesMenu-button">
					<%- svg( "assets/images/ico-rest-api.svg", "ui centered circular image categoriesMenu-icon" ) %>
					<div class="categoriesMenu-categoryTitle">REST API</div>
				</a>

			</div>
		</div>
	</div>
</div>

<div class="ui container">

	<div class="mainContent">
		<%var documentationCategories = site.data["documentation-list"].categories %>
		<% for (var i=0; i<documentationCategories.length; i++){%>
			<section class="mainContent-section" id="<%=documentationCategories[i].id%>">
				<div class="category-titleContainer">
					<%- svg( documentationCategories[i].iconPath , "ui left floated image category-icon" ) %>
					<h2 class="category-title"><%=documentationCategories[i].title%></h2>
				</div>

				<div class="category-description">
					<p><%=documentationCategories[i].description%></p>

					<% for ( var j=0; j<documentationCategories[i].versions.length; j++){
						var version = documentationCategories[i].versions[j].version;
						var documents = documentationCategories[i].versions[j].documents;%>
						<div class="documentationVersionList <%=version===fileVersion? "":"hidden"%>" data-version="<%=version%>">
							<div class="ui bulleted list">
								<% for ( var k in documents){%>
								<%if( k > 2) break;%>
								<div class="item category-item">
									<%var pathToDocument = documentationCategories[i].link? version+"/"+documentationCategories[i].link+"/"+documents[k].link:version+"/"+documents[k].link%>
									<div><a class="category-itemTitle" href="<%-url_for("/documentation/"+pathToDocument)%>"><%=documents[k].title%></a></div>
									<p>Get started now, with this easy to follow, quick start guide</p>
								</div>
								<%}%>
							</div>
							<%if( documents.length > 3 ){%>
							<%var pathToCategoryHome = version+"/"+documentationCategories[i].link;%>
							<div class="category-unbulletedItem">
								<div class="header"><a class="category-itemTitle" href="<%-url_for("/documentation/"+pathToCategoryHome)%>">More...</a></div>
							</div>
							<%}%>
						</div>
					<%}%>
				</div>
			</section>
		<%}%>
	</div>
</div>