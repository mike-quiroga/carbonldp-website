<!DOCTYPE html><html><head><meta charset="utf-8"><link rel="shortcut icon" href="/assets/images/carbon-icon-144x144.png"><title>Files | Carbon LDP</title><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="google-site-verification" content="gz0ah_pGpAlB4Q5a_bxykr1Zdo_CfXHyAb2tJiADVhE"><meta name="description" content="Files


	
		
		
			Previous
			Object Schema
		
	
	
		
		
			Files
		
	
	
		
		
			Next
			Querying
		
	


	
		
	


	Introduction
	So far we've covered how to save JavaScript objects in the platform."><meta property="og:type" content="website"><meta property="og:title" content="Files"><meta property="og:url" content="https://carbonldp.com/documentation/javascript-sdk/files/index.html"><meta property="og:site_name" content="Carbon LDP"><meta property="og:description" content="Files


	
		
		
			Previous
			Object Schema
		
	
	
		
		
			Files
		
	
	
		
		
			Next
			Querying
		
	


	
		
	


	Introduction
	So far we've covered how to save JavaScript objects in the platform."><meta property="og:updated_time" content="2017-02-13T17:40:38.000Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Files"><meta name="twitter:description" content="Files


	
		
		
			Previous
			Object Schema
		
	
	
		
		
			Files
		
	
	
		
		
			Next
			Querying
		
	


	
		
	


	Introduction
	So far we've covered how to save JavaScript objects in the platform."><link rel="alternate" href="/atom.xml" title="Carbon LDP" type="application/atom+xml"><link rel="stylesheet" href="/assets/semantic/semantic.min.css"><style>.hljs-comment,.hljs-quote{color:#969896}.hljs-deletion,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#c66}.hljs-built_in,.hljs-builtin-name,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#de935f}.hljs-attribute{color:#f0c674}.hljs-addition,.hljs-bullet,.hljs-string,.hljs-symbol{color:#b5bd68}.hljs-section,.hljs-title{color:#81a2be}.hljs-keyword,.hljs-selector-tag{color:#b294bb}.hljs{display:block;overflow-x:auto;background:#1d1f21;color:#c5c8c6;padding:.5em}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><style>.hljs{font-family:"Lucida Console",Monaco,monospace;font-size:.9rem;line-height:1.4rem}</style><style>.sidebar{margin:10em 1em 6em 0}.sidebar .ui.sticky{z-index:0}.sidebar .ui.segment{box-shadow:none;border:none}.ui.accordion .item.active .title:not(.ui).sidebar-title{color:#000;font-weight:700}.ui.vertical.menu .menu .item.active .sidebar-title{color:#000}.ui.accordion .title:not(.ui).sidebar-title{color:rgba(0,0,0,.6);padding-right:10px}.ui.accordion .title:not(.ui).sidebar-title:hover{color:#000}.ui.vertical.text.menu.sidebar-verticalMenu{margin-left:1.2em}.ui.vertical.text.menu .item:not(.dropdown)>.menu.sidebar-verticalSubMenu{margin:0 .8em}.ui.accordion.menu .item .title.sidebar-title--dropdown{display:inline}.ui.vertical.text.menu .item>i.icon.sidebar-dropdownIcon{float:right}@media (min-width:768px) and (max-width:992px){.sidebar .ui.sticky{padding:0}.ui.vertical.text.menu.sidebar-verticalMenu{margin-left:.6em}.ui.accordion .title:not(.ui).sidebar-title{padding-right:0}}</style><style>.staticContentMenu{margin:2em 0}h2.staticContentMenu-title{font-size:1.4em}.ui.accordion.menu .item .title.staticContentMenu-title--dropdown{display:inline}.ui.vertical.text.menu .item>i.icon.staticContentMenu-dropdownIcon{float:right}.ui.accordion .title:not(.ui).staticContentMenu-title{color:rgba(0,0,0,.6)}</style><style>.ui.grid.tabsComponent{margin:1rem 0}.ui.grid.tabsComponent .row.tabs{padding:0}.ui.attached.segment.tabs{border-top:0;padding:0 1rem;margin:0}@media (max-width:767px){.ui.attached.segment.tabs{border:0;padding:0;margin:0}.tabs-tab *{margin:0}}</style><link rel="stylesheet" href="/assets/styles/css/main.css"><link rel="stylesheet" href="/assets/styles/css/document.css"><script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-75786977-1","auto"),ga("send","pageview")</script><script async="" src="https://www.google-analytics.com/analytics.js"></script></head><body class="site"><header class="header"><div class="ui container"><div class="ui grid removeSideMargins"><div class="computer only row"><div class="ui top fixed borderless menu"><div class="ui container navMenu"><a class="item transparentBG" href="/"><img class="ui small image" src="/assets/images/carbon-logo-header.png" alt="Home"></a><a class="item" href="/get-started">Get Started</a><div class="ui dropdown link item navMenu-dropdownButton"><a class="item navMenu-dropdownLink" href="/documentation">Documentation</a><i class="dropdown icon"></i><div class="menu"><a class="item" href="/documentation/quick-start-guide">Quick Start Guide</a> <a class="item" href="/documentation/essential-concepts">Essential Concepts</a> <a class="item" href="/documentation/javascript-sdk">JavaScript SDK</a> <a class="item" href="/documentation/rest-api">REST API</a></div></div><a class="item" href="/community-and-support">Community &amp; Support</a> <a class="item" href="/about">About</a></div></div></div><div class="mobile tablet only row"><div class="ui top fixed borderless menu navMenu"><div class="ui container navMenu"><a class="item navMenu-carbonLogoButton transparentBG" href="/"><img class="ui navMenu-carbonLogo image" src="/assets/images/carbon-logo-header.png" alt="Home"></a><div class="ui right icon item navMenu-openerButton"><i class="content icon"></i></div></div></div><div class="ui fixed fluid vertical menu navMenu-verticalMenu" style="display:none"><a class="item" href="/get-started">Get Started</a><div class="ui dropdown link item navMenu-dropdownButton--mobile"><a class="item navMenu-dropdownText">Documentation<i class="dropdown icon"></i></a><div class="menu navMenu-dropdownMenu"><a class="item" href="/documentation/quick-start-guide">Quick Start Guide</a> <a class="item" href="/documentation/essential-concepts">Essential Concepts</a> <a class="item" href="/documentation/javascript-sdk">JavaScript SDK</a> <a class="item" href="/documentation/rest-api">REST API</a><div class="divider"></div><a class="item" href="/documentation">All documents...</a></div></div><a class="item" href="/community-and-support">Community &amp; Support</a> <a class="item" href="/about">About</a></div></div></div></div></header><div class="ui scrollTop mobile only grid"><button class="ui icon button scrollTop-button"><i class="angle up icon scrollTop-icon"></i></button></div><div class="site-content"><div class="ui container grid"><div class="row"><div class="twelve wide computer only twelve wide tablet only sixteen wide mobile only column"><div class="mainContent"><div class="ui breadcrumb"><a class="section" href="/documentation">Documentation</a> <i class="right chevron icon divider"></i> <a class="section" href="/documentation/javascript-sdk">JavaScript SDK</a> <i class="right arrow icon divider"></i><div class="active section" href="/documentation/javascript-sdk/files">Files</div></div><h1>Files</h1><div class="documentation-steps ui fluid steps"><a class="step" href="../object-schema"><i class="arrow left icon"></i><div class="content"><div class="title">Previous</div><div class="description">Object Schema</div></div></a><div class="active step"><div class="content"><div class="title">Files</div></div></div><a class="step" href="../querying"><i class="arrow right icon"></i><div class="content"><div class="title">Next</div><div class="description">Querying</div></div></a></div><div class="ui mobile only grid"><div class="row"><div class="sixteen wide mobile only column"><div class="staticContentMenu"><h2 class="staticContentMenuTitle">Content</h2><div class="ui vertical accordion fluid menu mobile"><div class="item"><a class="title staticContentMenu-title" href="#introduction">Introduction</a></div><div class="item"><a class="title staticContentMenu-title staticContentMenu-title--dropdown" href="#browser">Browser</a><i class="dropdown icon .staticContentMenu-dropdownIcon"></i><div class="content menu"><a class="item" href="#uploading">Uploading</a> <a class="item" href="#tracking-upload-progress">Tracking upload progress</a> <a class="item" href="#downloading">Downloading</a></div></div><div class="item"><a class="title staticContentMenu-title" href="#nodejs">NodeJS</a></div></div></div></div></div></div><section class="mainContent-section" id="introduction"><h2 class="hidden">Introduction</h2><p>So far we've covered how to save JavaScript objects in the platform. But the platform supports saving (and retrieving) files too. This functionality isn't intended to replace a CDN or static asset repository but it can serve as a dynamic asset repository.</p></section><section class="mainContent-section" id="browser"><h2>Browser</h2><section class="mainContent-subSection" id="uploading"><h3>Uploading</h3><p>The SDK uses the File API to access files on the browser. It is highly recommended that you read this very well documented article about how to use it:</p><p><a href="https://developer.mozilla.org/en-US/docs/Using_files_from_web_applications" target="_blank" rel="noopener">MDN: Using files from web applications</a></p><p>Once you get your hands on a <a href="https://developer.mozilla.org/en-US/docs/Web/API/File" target="_blank" rel="noopener">File</a> object you can use the <code>upload</code> method of the <code>Documents</code> service or of a <code>PersistedDocument</code> object. This method is very similar to the <code>createChild</code> method that we've already covered:</p><div class="ui grid tabsComponent"><div class="ui computer tablet only row tabs"><div class="ui top attached tabular menu tabs-titles"><a class="tabs-title active item" data-tab="UQHdWasE">TypeScript</a> <a class="tabs-title item" data-tab="TFlBRYdp">JavaScript ES2015</a> <a class="tabs-title item" data-tab="bNqLwArx">JavaScript ES5</a></div></div><div class="ui mobile only row tabs"><div class="ui compact selection dropdown tabs-options"><i class="dropdown icon"></i><div class="text">TypeScript</div><div class="menu"><div class="tabs-option item" data-tab="UQHdWasE">TypeScript</div><div class="tabs-option item" data-tab="TFlBRYdp">JavaScript ES2015</div><div class="tabs-option item" data-tab="bNqLwArx">JavaScript ES5</div></div></div></div><div class="tabs-tab ui bottom attached tabs active tab segment" data-tab="UQHdWasE"><pre><code class="typescript hljs"><span class="hljs-keyword">import</span> * as App from <span class="hljs-string">"carbonldp/App"</span>;
<span class="hljs-keyword">import</span> * as HTTP from <span class="hljs-string">"carbonldp/HTTP"</span>;
<span class="hljs-keyword">import</span> * as PersistedDocument from <span class="hljs-string">"carbonldp/PersistedDocument"</span>;
<span class="hljs-keyword">import</span> * as RDFRepresentation from <span class="hljs-string">"carbonldp/RDFRepresentation"</span>;

<span class="hljs-keyword">let</span> file:File;

<span class="hljs-comment">// ... get file</span>

<span class="hljs-keyword">let</span> appContext:App.Context;

<span class="hljs-comment">// ... get context</span>

appContext.documents.upload( <span class="hljs-string">"parent-document/"</span>, file, <span class="hljs-string">"Optional Slug"</span> ).then(
    ( [ fileMetadata, response ]:[ PersistedDocument.Class, HTTP.Response.Class ] ) =&gt; {
        <span class="hljs-built_in">console</span>.log( fileMetadata.isResolved() ); <span class="hljs-comment">// false</span>

        <span class="hljs-comment">// Resolve document with file's metadata</span>
        <span class="hljs-keyword">return</span> fileMetadata.resolve&lt;RDFRepresentation.Class&gt;();
    }
).then(
    ( [ fileMetadata, response ]:[ RDFRepresentation.Class &amp; PersistedDocument.Class, HTTP.Response.Class ] ) =&gt; {
        <span class="hljs-built_in">console</span>.log( fileMetadata.size ); <span class="hljs-comment">// E.g. 100634</span>
        <span class="hljs-built_in">console</span>.log( fileMetadata.mediaType ); <span class="hljs-comment">// E.g. image/png</span>
    }
).catch( <span class="hljs-built_in">console</span>.error );</code></pre></div><div class="tabs-tab ui bottom attached tabs tab segment" data-tab="TFlBRYdp"><pre><code class="javascript hljs"><span class="hljs-keyword">let</span> file;

<span class="hljs-comment">// ... get file</span>

<span class="hljs-keyword">let</span> appContext;

<span class="hljs-comment">// ... get context</span>

appContext.documents.upload( <span class="hljs-string">"parent-document/"</span>, file, <span class="hljs-string">"Optional Slug"</span> ).then(
    <span class="hljs-function">(<span class="hljs-params"> [ fileMetadata, response ] </span>) =&gt;</span> {
        <span class="hljs-built_in">console</span>.log( fileMetadata.isResolved() ); <span class="hljs-comment">// false</span>

        <span class="hljs-comment">// Resolve document with file's metadata</span>
        <span class="hljs-keyword">return</span> fileMetadata.resolve();
    }
).then(
    <span class="hljs-function">(<span class="hljs-params"> [ fileMetadata, response ] </span>) =&gt;</span> {
        <span class="hljs-built_in">console</span>.log( fileMetadata.size ); <span class="hljs-comment">// E.g. 100634</span>
        <span class="hljs-built_in">console</span>.log( fileMetadata.mediaType ); <span class="hljs-comment">// E.g. image/png</span>
    }
).catch( <span class="hljs-built_in">console</span>.error );</code></pre></div><div class="tabs-tab ui bottom attached tabs tab segment" data-tab="bNqLwArx"><pre><code class="javascript hljs"><span class="hljs-keyword">var</span> file;

<span class="hljs-comment">// ... get file</span>

<span class="hljs-keyword">var</span> appContext;

<span class="hljs-comment">// ... get context</span>

appContext.documents.upload( <span class="hljs-string">"parent-document/"</span>, file, <span class="hljs-string">"Optional Slug"</span> ).then(
    <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"> result </span>) </span>{
        <span class="hljs-keyword">var</span> fileMetadata = result[ <span class="hljs-number">0</span> ];
        <span class="hljs-keyword">var</span> response = result[ <span class="hljs-number">1</span> ];

        <span class="hljs-built_in">console</span>.log( fileMetadata.isResolved() ); <span class="hljs-comment">// false</span>

        <span class="hljs-comment">// Resolve document with file's metadata</span>
        <span class="hljs-keyword">return</span> fileMetadata.resolve();
    }
).then(
    <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"> result </span>) </span>{
        <span class="hljs-keyword">var</span> fileMetadata = result[ <span class="hljs-number">0</span> ];
        <span class="hljs-keyword">var</span> response = result[ <span class="hljs-number">1</span> ];

        <span class="hljs-built_in">console</span>.log( fileMetadata.size ); <span class="hljs-comment">// E.g. 100634</span>
        <span class="hljs-built_in">console</span>.log( fileMetadata.mediaType ); <span class="hljs-comment">// E.g. image/png</span>
    }
).catch( <span class="hljs-built_in">console</span>.error );</code></pre></div></div><p>The promise returned by the method will contain an array with the file's metadata as its first item (pretty much like the <code>createChild</code> method). Each time you upload a file a document gets created with the file's metadata. The object you'll receive will be an unresolved pointer to it, which you can resolve with the <code>resolve</code> method.</p><p>This document acts like a normal document. It can have children, members and even be a parent of other files. You can also add new data to it like you'd to any other document.</p></section><section class="mainContent-subSection" id="tracking-upload-progress"><h3>Tracking upload progress</h3><p>Upload progress can be tracked using the optional <code>options</code> argument. You can pass an <a href="https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest" target="_blank" rel="noopener">XMLHttpRequest</a> through this argument with the <code>request</code> property:</p><div class="ui grid tabsComponent"><div class="ui computer tablet only row tabs"><div class="ui top attached tabular menu tabs-titles"><a class="tabs-title active item" data-tab="AdbdDNcM">TypeScript</a> <a class="tabs-title item" data-tab="YusZtgtQ">JavaScript ES2015</a> <a class="tabs-title item" data-tab="usgHqHdW">JavaScript ES5</a></div></div><div class="ui mobile only row tabs"><div class="ui compact selection dropdown tabs-options"><i class="dropdown icon"></i><div class="text">TypeScript</div><div class="menu"><div class="tabs-option item" data-tab="AdbdDNcM">TypeScript</div><div class="tabs-option item" data-tab="YusZtgtQ">JavaScript ES2015</div><div class="tabs-option item" data-tab="usgHqHdW">JavaScript ES5</div></div></div></div><div class="tabs-tab ui bottom attached tabs active tab segment" data-tab="AdbdDNcM"><pre><code class="typescript hljs"><span class="hljs-keyword">import</span> * as App from <span class="hljs-string">"carbonldp/App"</span>;
<span class="hljs-keyword">import</span> * as HTTP from <span class="hljs-string">"carbonldp/HTTP"</span>;
<span class="hljs-keyword">import</span> * as PersistedDocument from <span class="hljs-string">"carbonldp/PersistedDocument"</span>;
<span class="hljs-keyword">import</span> * as RDFRepresentation from <span class="hljs-string">"carbonldp/RDFRepresentation"</span>;

<span class="hljs-keyword">let</span> file:File;

<span class="hljs-comment">// ... get file</span>

<span class="hljs-keyword">let</span> appContext:App.Context;

<span class="hljs-comment">// ... get context</span>

<span class="hljs-keyword">let</span> xhr:XMLHttpRequest = <span class="hljs-keyword">new</span> XMLHttpRequest();
xhr.upload.addEventListener( <span class="hljs-string">"progress"</span>, ( event:ProgressEvent ) =&gt; {
    <span class="hljs-keyword">let</span> incrementingPercentage:<span class="hljs-built_in">number</span> = <span class="hljs-built_in">parseInt</span>( event.loaded / event.total * <span class="hljs-number">100</span> );
    <span class="hljs-keyword">let</span> decrementingPercentage:<span class="hljs-built_in">number</span> = <span class="hljs-number">100</span> - incrementingPercentage;

    <span class="hljs-built_in">console</span>.log( incrementingPercentage );
    <span class="hljs-built_in">console</span>.log( decrementingPercentage );
} );

appContext.upload( <span class="hljs-string">"parent-document/"</span>, file, <span class="hljs-string">"Optional Slug"</span>, { request: xhr } ).then(
    ( [ fileMetadata, response ]:[ PersistedDocument.Class, HTTP.Response.Class ] ) =&gt; {
        <span class="hljs-comment">// ...</span>
    }
).catch( <span class="hljs-built_in">console</span>.error );</code></pre></div><div class="tabs-tab ui bottom attached tabs tab segment" data-tab="YusZtgtQ"><pre><code class="javascript hljs"><span class="hljs-keyword">let</span> file;

<span class="hljs-comment">// ... get file</span>

<span class="hljs-keyword">let</span> appContext;

<span class="hljs-comment">// ... get context</span>

<span class="hljs-keyword">let</span> xhr = <span class="hljs-keyword">new</span> XMLHttpRequest();
xhr.upload.addEventListener( <span class="hljs-string">"progress"</span>, ( event ) =&gt; {
    <span class="hljs-keyword">let</span> incrementingPercentage:number = <span class="hljs-built_in">parseInt</span>( event.loaded / event.total * <span class="hljs-number">100</span> );
    <span class="hljs-keyword">let</span> decrementingPercentage:number = <span class="hljs-number">100</span> - incrementingPercentage;

    <span class="hljs-built_in">console</span>.log( incrementingPercentage );
    <span class="hljs-built_in">console</span>.log( decrementingPercentage );
} );

appContext.upload( <span class="hljs-string">"parent-document/"</span>, file, <span class="hljs-string">"Optional Slug"</span>, { <span class="hljs-attr">request</span>: xhr } ).then(
    <span class="hljs-function">(<span class="hljs-params"> [ fileMetadata, response ] </span>) =&gt;</span> {
        <span class="hljs-comment">// ...</span>
    }
).catch( <span class="hljs-built_in">console</span>.error );</code></pre></div><div class="tabs-tab ui bottom attached tabs tab segment" data-tab="usgHqHdW"><pre><code class="javascript hljs"><span class="hljs-keyword">var</span> file;

<span class="hljs-comment">// ... get file</span>

<span class="hljs-keyword">var</span> appContext;

<span class="hljs-comment">// ... get context</span>

<span class="hljs-keyword">var</span> xhr = <span class="hljs-keyword">new</span> XMLHttpRequest();
xhr.upload.addEventListener( <span class="hljs-string">"progress"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"> event </span>) </span>{
    <span class="hljs-keyword">var</span> incrementingPercentage:number = <span class="hljs-built_in">parseInt</span>( event.loaded / event.total * <span class="hljs-number">100</span> );
    <span class="hljs-keyword">var</span> decrementingPercentage:number = <span class="hljs-number">100</span> - incrementingPercentage;

    <span class="hljs-built_in">console</span>.log( incrementingPercentage );
    <span class="hljs-built_in">console</span>.log( decrementingPercentage );
} );

appContext.upload( <span class="hljs-string">"parent-document/"</span>, file, <span class="hljs-string">"Optional Slug"</span>, { <span class="hljs-attr">request</span>: xhr } ).then(
    <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"> result </span>) </span>{
        <span class="hljs-comment">// ...</span>
    }
).catch( <span class="hljs-built_in">console</span>.error );</code></pre></div></div></section><section class="mainContent-subSection" id="downloading"><h3>Downloading</h3><p>Files uploaded will get an id assigned. This id, like the one of any document, is going to be a resolvable URI. If you open it in a browser you'll be able to download it.</p><p>However, if the file is protected by the security scheme, opening it on a browser will prompt for credentials. If you want to provide a link that uses the authentication you may already have in your application you can use the <code>Auth</code> service's <code>getAuthenticatedURL</code> method.</p><p>This method will return a promise that when resolved will give you a URL with a temporary ticket to authenticate the current user for that request:</p><div class="ui grid tabsComponent"><div class="ui computer tablet only row tabs"><div class="ui top attached tabular menu tabs-titles"><a class="tabs-title active item" data-tab="iorUjaeC">TypeScript</a> <a class="tabs-title item" data-tab="SYuiRbiO">JavaScript ES2015</a> <a class="tabs-title item" data-tab="mUFgIGjg">JavaScript ES5</a></div></div><div class="ui mobile only row tabs"><div class="ui compact selection dropdown tabs-options"><i class="dropdown icon"></i><div class="text">TypeScript</div><div class="menu"><div class="tabs-option item" data-tab="iorUjaeC">TypeScript</div><div class="tabs-option item" data-tab="SYuiRbiO">JavaScript ES2015</div><div class="tabs-option item" data-tab="mUFgIGjg">JavaScript ES5</div></div></div></div><div class="tabs-tab ui bottom attached tabs active tab segment" data-tab="iorUjaeC"><pre><code class="typescript hljs"><span class="hljs-keyword">import</span> * as App from <span class="hljs-string">"carbonldp/App"</span>;
<span class="hljs-keyword">import</span> * as PersistedDocument from <span class="hljs-string">"carbonldp/PersistedDocument"</span>;

<span class="hljs-keyword">let</span> fileMetadata:PersistedDocument.Class;

<span class="hljs-comment">// ... get a pointer to the file's metadata</span>

<span class="hljs-keyword">let</span> appContext:App.Context;

<span class="hljs-comment">// ... get app context</span>

appContext.auth.getAuthenticatedURL( fileMetadata.id ).then(
    ( authenticatedFileURL:<span class="hljs-built_in">string</span> ) =&gt; {
        <span class="hljs-built_in">window</span>.open( authenticatedFileURL, <span class="hljs-string">"_blank"</span> ); <span class="hljs-comment">// Open the URL in another window to start the download</span>
    }
);</code></pre></div><div class="tabs-tab ui bottom attached tabs tab segment" data-tab="SYuiRbiO"><pre><code class="javascript hljs"><span class="hljs-keyword">let</span> fileMetadata;

<span class="hljs-comment">// ... get a pointer to the file's metadata</span>

<span class="hljs-keyword">let</span> appContext;

<span class="hljs-comment">// ... get app context</span>

appContext.auth.getAuthenticatedURL( fileMetadata.id ).then(
    <span class="hljs-function">(<span class="hljs-params"> authenticatedFileURL </span>) =&gt;</span> {
        <span class="hljs-built_in">window</span>.open( authenticatedFileURL, <span class="hljs-string">"_blank"</span> ); <span class="hljs-comment">// Open the URL in another window to start the download</span>
    }
);</code></pre></div><div class="tabs-tab ui bottom attached tabs tab segment" data-tab="mUFgIGjg"><pre><code class="javascript hljs"><span class="hljs-keyword">var</span> fileMetadata;

<span class="hljs-comment">// ... get a pointer to the file's metadata</span>

<span class="hljs-keyword">var</span> appContext;

<span class="hljs-comment">// ... get app context</span>

appContext.auth.getAuthenticatedURL( fileMetadata.id ).then(
    <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"> authenticatedFileURL </span>) </span>{
        <span class="hljs-built_in">window</span>.open( authenticatedFileURL, <span class="hljs-string">"_blank"</span> ); <span class="hljs-comment">// Open the URL in another window to start the download</span>
    }
);</code></pre></div></div></section></section><section class="mainContent-section" id="nodejs"><h2>NodeJS</h2><p>TO BE DOCUMENTED</p></section><div class="documentation-steps ui fluid steps"><a class="step" href="../object-schema"><i class="arrow left icon"></i><div class="content"><div class="title">Previous</div><div class="description">Object Schema</div></div></a><div class="active completed step"><div class="content"><div class="title">Files</div></div></div><a class="step" href="../querying"><i class="arrow right icon"></i><div class="content"><div class="title">Next</div><div class="description">Querying</div></div></a></div></div></div><div class="four wide computer tablet only column"><div class="sidebar" content="mainContent"><div class="ui sticky segment"><h2 class="ui header">Content</h2><div class="ui vertical following fluid accordion text menu sidebar-verticalMenu"><div class="item"><a class="title sidebar-title" href="#introduction">Introduction</a></div><div class="item"><a class="title sidebar-title sidebar-title--dropdown" href="#browser">Browser</a><i class="dropdown icon sidebar-dropdownIcon"></i><div class="content menu sidebar-verticalSubMenu"><a class="item sidebar-title" href="#uploading">Uploading</a> <a class="item sidebar-title" href="#tracking-upload-progress">Tracking upload progress</a> <a class="item sidebar-title" href="#downloading">Downloading</a></div></div><div class="item"><a class="title sidebar-title" href="#nodejs">NodeJS</a></div></div></div></div></div></div></div></div><div class="footer bigStoneBG"><div class="ui middle aligned padded grid computer tablet only"><div class="four wide center aligned column"><a href="http://base22.com/"><img class="footer-base22Logo" src="/assets/images/base22-logo-white.png"></a></div><div class="eight wide center aligned stretched column"><p class="footer-copyrightText">© 2017 Base22 Technology Group, LLC. All Rights Reserved.</p></div><div class="four wide left aligned column"><a angulartics2on="click" angularticsevent="OutboundClick" angularticscategory="Twitter" href="https://twitter.com/CarbonLDP"><i class="circular twitter icon footer-socialIcon"></i></a> <a angulartics2on="click" angularticsevent="OutboundClick" angularticscategory="YouTube" href="https://www.youtube.com/channel/UCuNWXjT19Gnpo7I502PTZ_Q"><i class="circular youtube icon footer-socialIcon"></i></a> <a angulartics2on="click" angularticsevent="OutboundClick" angularticscategory="LinkedIn" href="https://www.linkedin.com/company/carbon-ldp"><i class="circular linkedin icon footer-socialIcon"></i></a></div></div><div class="ui centered padded grid mobile only"><div class="left aligned eight wide column"><a href="http://base22.com/"><img class="footer-base22Logo" src="/assets/images/base22-logo-white.png"></a></div><div class="right aligned eight wide column"><a angulartics2on="click" angularticsevent="OutboundClick" angularticscategory="Twitter" href="https://twitter.com/CarbonLDP"><i class="circular twitter icon footer-socialIcon"></i></a> <a angulartics2on="click" angularticsevent="OutboundClick" angularticscategory="YouTube" href="https://www.youtube.com/channel/UCuNWXjT19Gnpo7I502PTZ_Q"><i class="circular youtube icon footer-socialIcon"></i></a> <a angulartics2on="click" angularticsevent="OutboundClick" angularticscategory="LinkedIn" href="https://www.linkedin.com/company/carbon-ldp"><i class="circular linkedin icon footer-socialIcon"></i></a></div><div class="center aligned twelve wide column"><p class="footer-copyrightText">© 2017 Base22 Technology Group, LLC. All&nbsp;Rights&nbsp;Reserved.</p></div></div></div><script src="https://code.jquery.com/jquery-3.1.1.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script><script src="/assets/semantic/semantic.min.js"></script><script src="/assets/scripts/main.js"></script><script>!function(e){$(document).ready(function(){function e(e){var i=$(e.currentTarget),t=i.parent(".item").find(".content.menu");if(t){var s=t.hasClass("active");s?(t.removeClass("active"),t.removeClass("toggled")):(t.addClass("active"),t.addClass("toggled"))}return $(".ui.sticky").sticky("refresh"),!1}function i(e){var i=$(e.currentTarget).parent(".item"),t=i.siblings(".item");return t.removeClass("active"),i.addClass("active"),e.preventDefault(),!1}function t(e){var i=$(e.currentTarget),t=i.siblings(".item");return t.removeClass("active"),i.addClass("active"),e.preventDefault(),!1}function s(e,i,t){var s=$(e),n=t.index(s),a=i.children(".item"),c=a.eq(n),r=c.hasClass("active"),o=t.eq(n).children("section").length>0;return a.removeClass("active"),a.find(".active").not(".toggled").removeClass("active"),r||c.addClass("active"),o&&c.find(".menu").addClass("active"),$(".ui.sticky").sticky("refresh"),!1}function n(e,i,t){var s=$(e),n=t.index(s),a=i.find(".menu > .item"),c=a.eq(n),r=c.hasClass("active"),o=i.children(".item").find(".menu"),d=o.hasClass("active");return n===-1||r||(a.filter(".active").removeClass("active"),c.addClass("active")),d||o.addClass("active"),$(".ui.sticky").sticky("refresh"),!1}function a(e,i,t){var s=$(e),n=t.index(s),a=i.children(".item"),c=a.eq(n),r=(c.hasClass("active"),c.find(".menu"));return 0===n&&(c.removeClass("active"),r.length>0&&(c.find(".menu").not(".toggled").removeClass("active"),r.find(".item").removeClass("active"))),$(".ui.sticky").sticky("refresh"),!1}var c=$(".sidebar"),r=$(".sidebar").find(".following.menu"),o=$("."+c.attr("content")),d=o.children("section"),v=d.children("section");d.visibility({once:!1,offset:150,onTopPassed:function(){s(this,r,d)},onTopPassedReverse:function(){a(this,r,d)},onBottomPassedReverse:function(){s(this,r,d)}}),v.visibility({once:!1,offset:150,onTopPassed:function(){n(this,r,v)},onBottomPassedReverse:function(){n(this,r,v)}}),$(".sidebar > .ui.sticky").sticky({observeChanges:!0,context:".mainContent",offset:100}),$(".sidebar .item > .dropdown.icon").on("click",e),$(".sidebar .item > .title").on("click",i),$(".sidebar  a.item ").on("click",t)})}(window)</script><script>!function(e){$(document).ready(function(){function e(e){var n=$(e.currentTarget);$(".ui.sticky").sticky("refresh");var t=n.parent(".item").find(".content.menu");if(t){var o=t.hasClass("active");o?(t.removeClass("active"),t.removeClass("toggled")):(t.addClass("active"),t.addClass("toggled"))}return!1}var n=$(".staticContentMenu"),t=$("."+n.attr("content")),o=t.children(".mainContent-section");o.visibility({once:!1,offset:150,onTopPassed:function(){console.log("top passed")},onTopPassedReverse:function(){},onBottomPassedReverse:function(){}}),$(".staticContentMenu .item > .dropdown.icon").on("click",e)})}(window)</script><script>!function(t){function a(t){for(var a=$(t.currentTarget),e=a.attr("data-tab"),s=a.html(),n=a.parent();!n.hasClass("tabsComponent");)n=n.parent();var i=n.find(".tabs-title,.tabs-tab"),r=n.find(".tabs-option");if(r.removeClass("active selected"),i.removeClass("active"),i.each(function(){var t=$(this);t.attr("data-tab")===e&&t.addClass("active")}),r.each(function(){var t=$(this);t.attr("data-tab")===e&&t.addClass("active selected")}),a.hasClass("tabs-title")){var o=n.find(".tabs-options .text");o.html(s)}return!0}$(document).ready(function(){for(var t=document.querySelectorAll(".tabs-titles > .tabs-title, .tabs-options .tabs-option"),e=0;e<t.length;e++)t[e].addEventListener("click",a)})}(window)</script><script id="widgets-scripts"></script></body></html>