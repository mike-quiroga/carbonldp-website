!function(){function e(e){n.html.action="https://app.icontact.com/icp/core/mycontacts/signup/designer/form/?id=63&cid=581321&lid=23554",n.html.submit()}function t(e){var t=n.errorMessage.querySelectorAll(".name");t.forEach(function(e){e.remove()});var r=e.srcElement,s=e.srcElement.parentNode;if(r.value)s.classList.remove("error"),a(n.emailInput);else{s.classList.add("error"),n.errorMessage.style.display="block",n.button.disabled=!0;var l=document.createElement("li");l.classList.add("name"),l.append("Please enter your name"),n.errorMessage.querySelector("ul").append(l)}}function r(e){var t=n.errorMessage.querySelectorAll(".email");t.forEach(function(e){e.remove()});var r=e.srcElement,s=e.srcElement.parentNode,l=document.createElement("li");if(l.classList.add("email"),r.value){var i=/\S+@\S+\.\S+/;i.test(r.value)?(s.classList.remove("error"),a(n.nameInput)):(s.classList.add("error"),n.errorMessage.style.display="block",n.button.disabled=!0,l.append("Please enter a valid email"),n.errorMessage.querySelector("ul").append(l))}else s.classList.add("error"),n.button.disabled=!0,n.errorMessage.style.display="block",l.append("Please enter your email"),n.errorMessage.querySelector("ul").append(l)}function a(e){n.errorMessage.querySelectorAll("li").length>0||(e.value&&(n.button.disabled=!1),n.errorMessage.style.display="none")}var n={html:document.getElementById("icpsignup"),nameInput:document.getElementById("icpsignupName"),emailInput:document.getElementById("icpsignupEmail"),button:document.getElementById("icpsignupSubmitButton")};n.errorMessage=n.html.querySelector(".error.message"),n.html.addEventListener("submit",e),n.nameInput.addEventListener("input",t),n.nameInput.addEventListener("blur",t),n.emailInput.addEventListener("input",r),n.emailInput.addEventListener("blur",r)}();