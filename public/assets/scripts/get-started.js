!function(){function e(e){l.html.action="https://app.icontact.com/icp/core/mycontacts/signup/designer/form/?id=63&cid=581321&lid=23554",l.html.submit()}function t(e){for(var t=l.errorMessage.querySelectorAll(".name"),r=0,n=t.length;r<n;r++)t[r].parentNode.removeChild(t[r]);var s=e.target,d=s.parentNode;if(s.value)d.classList.remove("error"),a(l.emailInput);else{d.classList.add("error"),l.errorMessage.style.display="block",l.button.disabled=!0;var i=document.createElement("li");i.classList.add("name");var o=document.createTextNode("Please enter your name");i.appendChild(o),l.errorMessage.querySelector("ul").appendChild(i)}}function r(e){for(var t=l.errorMessage.querySelectorAll(".email"),r=0,n=t.length;r<n;r++)t[r].parentNode.removeChild(t[r]);var s=e.target,d=s.parentNode,i=document.createElement("li");if(i.classList.add("email"),s.value){var o=/\S+@\S+\.\S+/;if(o.test(s.value))d.classList.remove("error"),a(l.nameInput);else{d.classList.add("error"),l.errorMessage.style.display="block",l.button.disabled=!0;var u=document.createTextNode("Please enter a valid email");i.appendChild(u),l.errorMessage.querySelector("ul").appendChild(i)}}else{d.classList.add("error"),l.button.disabled=!0,l.errorMessage.style.display="block";var u=document.createTextNode("Please enter your email");i.appendChild(u),l.errorMessage.querySelector("ul").appendChild(i)}}function a(e){l.errorMessage.querySelectorAll("li").length>0||(e.value&&(l.button.disabled=!1),l.errorMessage.style.display="none")}var l={html:document.getElementById("icpsignup"),nameInput:document.getElementById("icpsignupName"),emailInput:document.getElementById("icpsignupEmail"),button:document.getElementById("icpsignupSubmitButton")};l.errorMessage=l.html.querySelector(".error.message"),l.html.addEventListener("submit",e),l.nameInput.addEventListener("input",t),l.nameInput.addEventListener("blur",t),l.emailInput.addEventListener("input",r),l.emailInput.addEventListener("blur",r)}();